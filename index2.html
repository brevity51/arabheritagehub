<!DOCTYPE html>
<html lang="en" id="html" x-data="global()" class="h-full js-focus-visible">

<head>
    <meta charset="utf-8">
    <title>Arabs Got Talent Season 7 - StrawPoll</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="robots" content="noindex, follow" />
    <meta name="robots" content="indexifembedded" />
    <link rel="stylesheet" href="https://cdn.strawpoll.com/dist/main.css?v=248">
    <link rel="stylesheet" href="https://cdn.strawpoll.com/dist/custom.Q0Zp7VrbAgM.css?v=248">
    <script defer src="https://cdn.strawpoll.com/dist/app.js?v=248"></script>
    <script defer data-domain="strawpoll.com" src="https://log.strawpoll.com/js/script.js"></script>
    <script defer src="https://cdn.strawpoll.com/dist/sortable.js?v=248"></script>
    <meta name="twitter:card" content="summary_large_image" />
    <meta property="fb:app_id" content="567582844767504" />
    <meta property="og:site_name" content="StrawPoll" />
    <meta property="og:title" content="Arabs Got Talent Season 7 - StrawPoll" />
    <meta property="og:description"
        content="Cast your votes for the most talented stars in the Arabs Got Talent Season 7! Support your favorite acts in categories like singing, dancing, comedy, magic, and more." />
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://strawpoll.com/Q0Zp7VrbAgM" />
    <meta property="og:image" content="https://cdn.strawpoll.com/images/polls/previews/Q0Zp7VrbAgM-c.png" />
    <meta property="og:image:width" content="1200" />
    <meta property="og:image:height" content="630" />
    <meta property="og:locale" content="en" />
    <meta name="apple-mobile-web-app-title" content="StrawPoll" />
    <meta name="application-name" content="StrawPoll" />
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">

    <style>
        [x-cloak] {
            display: none;
        }
    </style>

    <script>
        const TIMESTAMP = new Date().getTime()
        const WEBSOCKET_URL = 'wss://ws.strawpoll.com'
        const API_ENDPOINT = 'https://api.strawpoll.com/v3'
        const STATIC_URL = 'https://cdn.strawpoll.com'
        const DEVICE_TYPE = 'desktop'
        const APP_VERSION = '248'

        const L = {
            'error_retry': 'An error occurred. Please reload the page and try again.',
            'timeout_retry': 'Timeout, please try again.',
            'already_voted': 'You already voted on this poll.',
            'incognito_vote': 'Voting in incognito mode is not allowed. Please disable incognito mode and try again.',
            'backend_error': 'Backend error.',
            'request_failed': 'Request failed.',
            'request_help': 'Please contact support@strawpoll.com for help.',
            'day': 'day',
            'days': 'days',
            'hour': 'hour',
            'hours': 'hours',
            'minute': 'minute',
            'minutes': 'minutes',
            'second': 'second',
            'seconds': 'seconds',
        }

        const APPEARANCE = 'auto'
    </script>




    <script>
        let defaultThemeLight = { 'id': null, 'name': 'Default', colors: { 'pageBg': '#f9fafb', 'boxBg': '#ffffff', 'boxBorder': '#e5e8eb', 'boxBorderTop': '#fbbf24', 'title': '#111827', 'text': '#6b7280', 'highlight': '#4f46e5', 'buttonBg': '#4f46e5', 'buttonText': '#ffffff', 'border': '#e5e7eb', }, 'hideShareButton': false }
        let defaultThemeDark = { 'id': null, 'name': 'Default', colors: { 'pageBg': '#111827', 'boxBg': '#1f2937', 'boxBorder': '#374151', 'boxBorderTop': '#818cf8', 'title': '#e5e7eb', 'text': '#94a3b8', 'highlight': '#6366f1', 'buttonBg': '#6366f1', 'buttonText': '#ffffff', 'border': '#374151' }, 'hideShareButton': false }


        let customTheme = { id: null }

        let currentTheme = defaultThemeLight

        if (APPEARANCE === 'dark' || APPEARANCE === 'auto' && window.matchMedia('(prefers-color-scheme: dark)').matches) {
            document.getElementById('html').classList.add('dark')
            currentTheme = defaultThemeDark
        }


        if (customTheme.id) {
            currentTheme = customTheme

            if (isDarkBg(hexToRGBA(customTheme.colors.pageBg, 1, 0, 1))) {
                if (!document.getElementById('html').classList.contains('dark')) {
                    document.getElementById('html').classList.add('dark')
                }
            } else {
                if (document.getElementById('html').classList.contains('dark')) {
                    document.getElementById('html').classList.remove('dark')
                }
            }
        }

        let pollOptionColors = ['#3EB991', '#FF7563', '#AA66CC', '#FFBB33', '#FF8800', '#33B5E5', '#AA66CC']

        setCustomTheme(currentTheme)

        function setCustomTheme(theme) {
            for (const [key, value] of Object.entries(theme.colors)) {
                document.documentElement.style.setProperty('--' + key, hexToRGBA(value, 1, 0, 1))
            }

            document.documentElement.style.setProperty('--buttonBgLight', hexToRGBA(theme.colors['buttonBg'], 1, 1, 1.16))
            document.documentElement.style.setProperty('--borderDark', hexToRGBA(theme.colors['border'], 1, 1, 0.84))
            document.documentElement.style.setProperty('--highlightDark', hexToRGBA(theme.colors['highlight'], 1, 1, 0.84))
            document.documentElement.style.setProperty('--textShadow', hexToRGBA(theme.colors['text'], 1, 5, 0.954))
            document.documentElement.style.setProperty('--textLight', hexToRGBA(theme.colors['text'], 0.8, 0, 1)) // 1, 113, 0.5568)
            document.documentElement.style.setProperty('--textLighter', hexToRGBA(theme.colors['text'], 1, 168, 0.3431))
            document.documentElement.style.setProperty('--highlightShadow', hexToRGBA(theme.colors['highlight'], 1, 58, 0.772))
        }

        function setCustomFormDesign(design) {
            for (const [key, value] of Object.entries(design.colors)) {
                document.documentElement.style.setProperty('--' + key, hexToRGBA(value, 1, 0, 1))
            }

            if (isDarkBg(hexToRGBA(design.colors['formBackgroundColor'], 1, 0, 1))) {
                document.documentElement.style.setProperty('--textColorLight', hexToRGBA(design.colors['textColor'], 1, 1, 0.5))
                document.documentElement.style.setProperty('--titleColorLight', hexToRGBA(design.colors['titleColor'], 1, 1, 0.5))
            } else {
                document.documentElement.style.setProperty('--titleColorLight', hexToRGBA(design.colors['titleColor'], 0.2, 0, 1))
                document.documentElement.style.setProperty('--textColorLight', hexToRGBA(design.colors['textColor'], 0.2, 0, 1))
            }

            document.documentElement.style.setProperty('--titleColorLight', hexToRGBA(design.colors['titleColor'], 0.2, 0, 1))
            document.documentElement.style.setProperty('--primaryColorLight', hexToRGBA(design.colors['primaryColor'], 0.6, 0, 1))
            document.documentElement.style.setProperty('--primaryColorLightest', hexToRGBA(design.colors['primaryColor'], 0.1, 0, 1))
            document.documentElement.style.setProperty('--choiceColorLight', hexToRGBA(design.colors['choiceColor'], 0.6, 0, 1))
            document.documentElement.style.setProperty('--choiceColorLighter', hexToRGBA(design.colors['choiceColor'], 0.3, 0, 1))
            document.documentElement.style.setProperty('--choiceColorLightest', hexToRGBA(design.colors['choiceColor'], 0.1, 0, 1))
            document.documentElement.style.setProperty('--buttonBackgroundColorLight', hexToRGBA(design.colors['buttonBackgroundColor'], 0.6, 0, 1))

            if (isDarkBg(hexToRGBA(design.colors['choiceColor'], 1, 0, 1))) {
                document.documentElement.style.setProperty('--choiceBackgroundTextColor', 'rgba(255,255,255,1)')
            } else {
                document.documentElement.style.setProperty('--choiceBackgroundTextColor', 'rgba(0,0,0,1)')
            }
        }

        function hexToRGBA(hex, opacity, modifierAdd, modifierMulti) {
            if (!hex) {
                return 'rgba(0, 0, 0, 0)'
            }
            let c;
            if (/^#([A-Fa-f0-9]{3}){1,2}$/.test(hex)) {
                c = hex.substring(1).split('')
                if (c.length === 3) {
                    c = [c[0], c[0], c[1], c[1], c[2], c[2]]
                }
                c = '0x' + c.join('')
                return 'rgba(' + [(c >> 16) & 255, (c >> 8) & 255, c & 255].map(x => parseInt(modifierAdd + modifierMulti * x)).join(',') + ', ' + opacity + ')'
            }
        }

        function isDarkBg(color) {
            let colors = color.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d+(?:\.\d+)?))?\)$/)

            let r = colors[1]
            let g = colors[2]
            let b = colors[3]
            let a = parseInt(colors[4])

            if (a === 0) return 0

            let hsp = Math.sqrt(0.299 * (r * r) + 0.587 * (g * g) + 0.114 * (b * b))

            if (hsp <= 127.5) {
                return 1
            }
        }
    </script>






    <style>
        /* THEME */
        :root {
            /* --backgroundColor: rgba(240, 240, 240, 1);
				--questionBackgroundColor: rgba(255, 255, 255, 1);
				--titleColor: rgba(0, 0, 0, 1);
				--titleColorLight: rgba(150, 150, 150, 1);
				--textColor: rgba(100, 100, 100, 1);
				--textColorLight: rgba(200, 200, 200, 1);
				--answerColor: rgba(255, 0, 255, 1);
				--primaryColor: rgba(0, 0, 255, 1); */

            /* dark mode */
            --formBackgroundColor: rgba(17, 24, 39);
            --questionBackgroundColor: rgba(31, 41, 55, 1);
            --questionTitleColor: rgba(255, 255, 255, 1);
            --questionTitleColorLight: rgba(150, 150, 150, 1);
            --questionTextColor: rgba(100, 100, 100, 1);
            --questionTextColorLight: rgba(200, 200, 200, 1);
            --questionChoiceColor: rgba(255, 0, 255, 1);
            --questionChoiceColorLight: rgba(255, 0, 255, 1);
            --questionChoiceColorLightest: rgba(255, 0, 255, 1);
            --formPrimaryColor: rgba(0, 0, 255, 1);

            --formBorderColor: rgba(55, 65, 81, 1);
            --formBorderTopColor: rgba(129, 140, 248, 1);
        }

        .form-background {
            background-color: var(--formBackgroundColor);
        }

        .form-question-wrapper {
            background-color: var(--questionBackgroundColor);
        }

        .form-question {
            background-color: var(--questionBackgroundColor);
        }

        .question-top-border {
            border-top-color: var(--formBorderTopColor);
        }

        .question-title,
        .question-title::placeholder,
        .question-title input {
            color: var(--questionTitleColor);
        }

        /* .question-title::placeholder {
				color: var(--titleColorLight);
			} */
        .question-text,
        .question-text::placeholder {
            color: var(--questionTextColor);
        }

        /* .question-text::placeholder {
				color: var(--textColorLight);
			} */
        .field-choice-input,
        .field-choice-input::placeholder {
            color: var(--questionChoiceColor);
        }

        /* .field-choice-input::placeholder {
				color: var(--answerColorLight);
			} */
        .question-title:hover,
        .question-text:hover,
        .field-choice-input:hover {
            border-color: var(--questionTextColorLight);
        }

        .question-title:focus,
        .question-text:focus,
        .field-choice-input:focus {
            border-color: var(--formPrimaryColor);
        }

        .field-choice-card {
            color: var(--questionChoiceColor);
            border-color: var(--questionChoiceColorLight);
            background-color: var(--questionChoiceColorLightest);
        }

        .form .field-choice-card:hover {
            background-color: var(--questionChoiceColorLighter);
        }

        .choice-symbol {
            border-color: var(--questionChoiceColorLight);
            background-color: var(--questionBackgroundColor);
        }

        .primary-link {
            color: var(--formPrimaryColor);
        }

        /* layout: plain, card, image_top, image_left, image_right, transparent */
        /* background_image */
        /* logo_image */
        /* colors: page_bg, question_bg, title, questions, answers, primary (highlight), secondary */
        /* font */
        /* text size */
        /* align: left, center, right */
        /* ltr? */
    </style>


    <!-- Add this line in the <head> section of your HTML -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="js/index.js"></script>

    <link rel="stylesheet" href="css/index.css">
    <script>

    </script>

    <style>
        /* Popup styles */
        .popup {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background-color: rgba(0, 0, 0, 0.7);
            color: white;
            padding: 10px;
            border-radius: 5px;
            display: flex;
            align-items: center;
            display: none;
            z-index: 999;
            /* Lower z-index */
        }

        .popup-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            z-index: 998;
            /* Lower z-index for the overlay */
        }

        .popup img {
            border-radius: 50%;
            margin-right: 10px;
            width: 40px;
            height: 40px;
        }
    </style>
</head>

<body class="font-sans antialiased min-h-full flex flex-col text-default bg-transparent">



    <div class="flex-auto  ">



        <div @update-poll.window="$store.poll.update($event.detail.poll); $dispatch('refresh-results')"
            @delete-poll.window="setTimeout(() => { window.location.reload() }, 1500)"
            class="strawpoll-container embed py-0" id="strawpoll_box_Q0Zp7VrbAgM">


            <template x-if="$store.poll.pinCode">
                <div x-data="{ open: true }"
                    class="bg-indigo-600 dark:bg-indigo-500 dark:bg-opacity-20 rounded-md mb-8 max-w-3xl mx-auto"
                    x-show="open">
                    <div class="max-w-7xl mx-auto py-3 px-4">
                        <div class="flex items-center justify-between flex-wrap">
                            <div class="w-0 flex-1 flex items-center">
                                <span class="flex p-2 rounded-lg bg-indigo-800 dark:bg-indigo-600">


                                    <svg class="h-5 w-5 text-white" xmlns="http://www.w3.org/2000/svg" fill="none"
                                        viewBox="0 0 24 24" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                            d="M11 5.882V19.24a1.76 1.76 0 01-3.417.592l-2.147-6.15M18 13a3 3 0 100-6M5.436 13.683A4.001 4.001 0 017 6h1.832c4.1 0 7.625-1.234 9.168-3v14c-1.543-1.766-5.067-3-9.168-3H7a3.988 3.988 0 01-1.564-.317z" />

                                    </svg>

                                </span>
                                <p class="ml-3 text-lg font-medium text-white">
                                    <span>
                                        Go to <a class="font-extrabold hover:underline" href="https://strawpoll.live/"
                                            target="_blank">strawpoll.live</a> and use the code <span
                                            class="font-extrabold tracking-widest" x-text="$store.poll.pinCode"></span>
                                    </span>
                                </p>
                            </div>
                            <div class="order-2 flex-shrink-0 sm:order-3 sm:ml-3">
                                <button type="button"
                                    class="-mr-1 flex p-2 rounded-md hover:bg-indigo-500 focus:outline-none focus:ring-2 focus:ring-white sm:-mr-2"
                                    @click="open = false">
                                    <span class="sr-only">
                                        Dismiss
                                    </span>
                                    <!-- Heroicon name: outline/x -->
                                    <svg class="h-6 w-6 text-white" xmlns="http://www.w3.org/2000/svg" fill="none"
                                        viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                            d="M6 18L18 6M6 6l12 12" />
                                    </svg>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </template>





            <div class="space-y-8 ">
                <div class="strawpoll-box custom-box custom-box-primary overflow-visible mx-auto max-w-full"
                    :class="{ 'max-w-full': !expandBox, 'max-w-full': expandBox }">
                    <div class="space-y-8 mb-8 pt-4 px-4 sm:px-6 sm:pt-6">


                        <div x-data="{ poll: Alpine.store(&#39;poll&#39;), i: 0,  }" class="flex justify-between">
                            <div class="flex-grow flex flex-col">
                                <h1 class="strawpoll-title text-2xl text-gray-900 dark:text-gray-200 font-semibold custom-title break-words"
                                    x-text="poll.title">
                                    Arabs Got Talent Season 7
                                </h1>
                            </div>

                            <div class="flex items-top space-x-3">
                            </div>
                        </div>



                        <div x-data="{ poll: Alpine.store(&#39;poll&#39;), i: 0,  }">
                            <template x-if="poll.pollMeta.location">
                                <div class="flex">
                                    <div class="text-gray-500 custom-text mr-3">


                                        <svg class="h-5 w-5 " xmlns="http://www.w3.org/2000/svg" fill="none"
                                            viewBox="0 0 24 24" stroke="currentColor">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                                d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z" />
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                                d="M15 11a3 3 0 11-6 0 3 3 0 016 0z" />

                                        </svg>

                                    </div>
                                    <div class="text-gray-500 custom-text">
                                        <span x-text="poll.pollMeta.location"
                                            class="whitespace-pre-line break-words"></span>
                                    </div>
                                </div>
                            </template>
                        </div>


                        <div x-data="{ poll: Alpine.store(&#39;poll&#39;), i: 0,  }">
                            <template x-if="poll.pollMeta.description">
                                <div class="flex">
                                    <div class="text-gray-500 custom-text mr-3">


                                        <svg class="h-5 w-5 " xmlns="http://www.w3.org/2000/svg" fill="none"
                                            viewBox="0 0 24 24" stroke="currentColor">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                                d="M7 8h10M7 12h4m1 8l-4-4H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-3l-4 4z" />

                                        </svg>

                                    </div>
                                    <div class="text-gray-500 custom-text ">
                                        <span x-text="poll.pollMeta.description"
                                            class="whitespace-pre-line break-words"></span>
                                    </div>
                                </div>
                            </template>
                        </div>


                        <div x-data="{ poll: Alpine.store(&#39;poll&#39;), i: 0,  }">
                            <template x-if="poll.media">
                                <div class="flex justify-center px-0 sm:px-20">
                                    <img :src="STATIC_URL + poll.media.path" alt="Poll image" />
                                </div>
                            </template>
                        </div>

                    </div>


                    <form x-data="pollVote()" class="strawpoll-form px-4 sm:px-6" method="POST"
                        @submit.prevent="votePoll()">


                        <div class="space-y-8 pb-4 sm:pb-6" style="min-width: 168px; ">

                            <div x-data="rankingVote()">

                                <div class="text-gray-500 custom-text">
                                    <span
                                        x-show="$store.poll.pollConfig.layout === 'grid' || $store.poll.pollConfig.layout === 'default' && !isMobileView">Cast
                                        your ranked-choice vote on the interactive grid below.</span>
                                    <span
                                        x-show="$store.poll.pollConfig.layout === 'drag' || $store.poll.pollConfig.layout === 'default' && isMobileView">
                                        Drag your preferred option to the top.
                                    </span>
                                </div>

                                <div class="mt-4 text-lg sm:text-base" style="min-width: 168px;">
                                    <div id="poll_options" class="fix-drag-hover mx-auto sm:max-w-full"
                                        style="max-width: 80%;" x-data="dragOptions()">
                                        <template x-for="(option, i) in initialOptions" :key="option.id">
                                            <div :data-id="option.id" :data-value="option.value"
                                                class="drag-item flex items-center justify-between mt-3 rounded-md border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-700 px-4 py-3 cursor-grab">
                                                <div
                                                    class="flex flex-grow items-center space-x-3  border-r custom-border pr-3">
                                                    <span
                                                        class="rounded-full w-8 h-8 flex items-center justify-center custom-field-input border custom-border shrink-0 mr-1"
                                                        x-text="currentPosition[option.id]"></span>
                                                    <span x-html="parseMarkDown(option.value)"></span>
                                                </div>
                                                <div class="ml-3">
                                                    <span x-text="currentPoints[option.id]"></span>
                                                </div>
                                            </div>
                                        </template>
                                    </div>

                                    <script>
                                        function parseMarkDown(text) {
                                            text = text
                                                .replace(/&/g, "&amp;")
                                                .replace(/</g, "&lt;")
                                                .replace(/>/g, "&gt;")
                                                .replace(/"/g, "&quot;")
                                                .replace(/'/g, "&#039;")

                                            var bold = /\*\*(.*?)\*\*/gm
                                            var html = text.replace(bold, '<strong>$1</strong>');
                                            return html
                                        }

                                        function dragOptions() {
                                            return {
                                                option: { value: '###' }, // used for Sortable fallback
                                                currentPosition: {},
                                                currentPoints: {},
                                                maxPoints: 0,
                                                init() {
                                                    this.$watch('checkedOptions', value => {
                                                        this.updateSelectedOptions(value)
                                                    })

                                                    this.checkedOptions = JSON.parse(JSON.stringify(this.initialOptions))

                                                    this.waitForSortable()
                                                },
                                                updateSelectedOptions(value) {
                                                    this.selectedOptions = value.map((option, index) => ({ id: option.id, value: index + 1 }))
                                                    this.maxPoints = this.$store.poll.pollConfig.maxPoints
                                                    if (!this.maxPoints) this.maxPoints = this.selectedOptions.length - 1
                                                    this.selectedOptions.forEach((option, index) => {
                                                        this.currentPoints[option.id] = this.maxPoints - index
                                                        if (this.currentPoints[option.id] < 0) this.currentPoints[option.id] = 0
                                                        this.currentPosition[option.id] = index + 1
                                                    })
                                                },
                                                waitForSortable() {
                                                    if (window.Sortable) {
                                                        this.initSortable()
                                                    } else {
                                                        const self = this
                                                        setTimeout(function () { self.waitForSortable() }, 100)
                                                    }
                                                },
                                                initSortable() {
                                                    let self = this
                                                    let el = document.getElementById('poll_options');
                                                    let sortable = Sortable.create(el, {
                                                        animation: 150,
                                                        ghostClass: 'drag-ghost',
                                                        onChoose: function (event) {
                                                            self.option = { id: event.item.dataset.id, value: event.item.dataset.value }
                                                        },
                                                        onStart: function () {
                                                            this.el.classList.remove('fix-drag-hover');
                                                        },
                                                        onEnd: function () {
                                                            this.el.classList.add('fix-drag-hover');
                                                        },
                                                        onUpdate: (event) => {
                                                            const element = this.checkedOptions.splice(event.oldIndex, 1)
                                                            this.checkedOptions.splice(event.newIndex, 0, element[0])
                                                        }
                                                    });
                                                },
                                            }
                                        }

                                    </script>

                                </div>

                                <div class="mt-8">
                                    <div x-data="{ poll: Alpine.store(&#39;poll&#39;), }">
                                        <template x-if="poll.pollConfig.deadlineAt">
                                            <div class="rounded-md bg-blue-50 dark:bg-blue-500 dark:bg-opacity-20 p-4">
                                                <div class="flex">
                                                    <div class="flex-shrink-0">
                                                        <svg xmlns="http://www.w3.org/2000/svg"
                                                            class="h-5 w-5 text-blue-400" fill="none"
                                                            viewBox="0 0 24 24" stroke="currentColor">
                                                            <path stroke-linecap="round" stroke-linejoin="round"
                                                                stroke-width="2"
                                                                d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" />
                                                        </svg>
                                                    </div>
                                                    <div class="ml-3 flex-1 md:flex md:justify-between">
                                                        <p class="text-sm text-blue-700 dark:text-gray-300">
                                                            <template
                                                                x-if="poll.pollConfig.deadlineAt * 1000 >= new Date().getTime()">
                                                                <span
                                                                    x-text="strawpoll.placeholder('Voting ends in {date}.', { date: timeago.format(poll.pollConfig.deadlineAt * 1000, 'en') })"></span>
                                                            </template>
                                                            <template
                                                                x-if="poll.pollConfig.deadlineAt * 1000 < new Date().getTime()">
                                                                <span
                                                                    x-text="strawpoll.placeholder('Voting closed {date} ago.', { date: timeago.format(poll.pollConfig.deadlineAt * 1000, 'en') })""></span>
						</template>
					</p>
				</div>
			</div>
		</div>
	</template>
</div>

	</div>

                                             
                                                </div>

                                                <script>
                                                    function rankingVote() {
                                                        return {
                                                            initialOptions: [],
                                                            checkedOptions: [],
                                                            init() {
                                                                this.initialOptions = JSON.parse(JSON.stringify(this.$store.poll.pollOptions))
                                                                if (this.$store.poll.pollConfig.randomizeOptions) {
                                                                    this.fisherYatesShuffle(this.initialOptions)
                                                                }
                                                            },
                                                            fisherYatesShuffle(array) {
                                                                for (var i = array.length - 1; i > 0; i--) {
                                                                    var j = Math.floor(Math.random() * (i + 1));
                                                                    [array[i], array[j]] = [array[j], array[i]];
                                                                }
                                                            }
                                                        }
                                                    }
                                                </script>





                                                    <div x-show=" voteError"
                                                                    class="rounded-md bg-red-50 dark-bg-opacity-red p-4"
                                                                    x-cloak>
                                                                    <div class="flex items-center">
                                                                        <div class="flex-shrink-0">


                                                                            <svg class="h-5 w-5 text-red-400"
                                                                                xmlns="http://www.w3.org/2000/svg"
                                                                                fill="currentColor" viewBox="0 0 20 20"
                                                                                stroke="">
                                                                                <path fill-rule="evenodd"
                                                                                    d="M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z"
                                                                                    clip-rule="evenodd" />

                                                                            </svg>

                                                                        </div>
                                                                        <div class="ml-3">
                                                                            <div class="text-sm text-red-700 dark:text-red-100"
                                                                                x-text="voteError"></div>
                                                                        </div>
                                                                    </div>
                                                    </div>


                                                    <div class="cf-turnstile" data-sitekey="0x4AAAAAAAkdq_KiqBksgskS"
                                                        data-callback="onloadTurnstileCallback"
                                                        @turnstile-token-success.window="submitPoll($event.detail.token)">
                                                    </div>



                                                    <div x-show="showVoteButtons || isEditActive" x-cloak>
                                                        <div class="block sm:hidden"
                                                            :class="{ 'fixed bottom-0 left-0 right-0 z-50 py-4 custom-box-bg p-4 pb-8 border-t border-default': $store.poll.type === 'meeting' && viewType === 'list' && isEditActive && showStickyVoteButtons }"
                                                            @scroll.window.throttle.100ms="updateScrollPosY()">
                                                            <div class="grid grid-cols-2 gap-4">
                                                                <button type="submit"
                                                                    class="strawpoll-button-primary button text-sm custom-button px-8 w-full">
                                                                    <div x-show="isLoadingVote" x-cloak>
                                                                        Validating...
                                                                    </div>
                                                                    <div class="flex items-center"
                                                                        x-show="!isLoadingVote">
                                                                        <div x-show="voteData.voteType !== 'edit'"
                                                                            x-cloak>
                                                                            Vote</div>
                                                                        <div x-show="voteData.voteType === 'edit'"
                                                                            x-cloak>
                                                                            Update vote</div>
                                                                    </div>
                                                                </button>

                                                                <div class="flex items-center space-x-4">
                                                                    <a href="/embed/Q0Zp7VrbAgM/results"
                                                                        class="button strawpoll-button-secondary custom-field-input w-full text-sm flex items-center"
                                                                        x-show="$store.pollUser.isAdmin || $store.poll.pollConfig.resultsVisibility !== 'after_vote'"
                                                                        x-cloak>


                                                                        <svg class="h-5 w-5 -ml-1 mr-2 "
                                                                            xmlns="http://www.w3.org/2000/svg"
                                                                            fill="currentColor" viewBox="0 0 20 20"
                                                                            stroke="">
                                                                            <path
                                                                                d="M2 11a1 1 0 011-1h2a1 1 0 011 1v5a1 1 0 01-1 1H3a1 1 0 01-1-1v-5zM8 7a1 1 0 011-1h2a1 1 0 011 1v9a1 1 0 01-1 1H9a1 1 0 01-1-1V7zM14 4a1 1 0 011-1h2a1 1 0 011 1v12a1 1 0 01-1 1h-2a1 1 0 01-1-1V4z" />

                                                                        </svg>

                                                                        <span>Results</span>
                                                                    </a>
                                                                </div>
                                                            </div>
                                                        </div>

                                                        <div class="hidden sm:block">
                                                            <div class="flex items-center justify-between">
                                                                <div class="flex items-center space-x-4">
                                                                    <button type="submit"
                                                                        class="strawpoll-button-primary button text-sm custom-button px-8"
                                                                        :disabled="isLoadingVote">
                                                                        <div class="flex items-center space-x-2"
                                                                            x-show="isLoadingVote" x-cloak>
                                                                            <svg class="animate-spin h-5 w-5 text-white"
                                                                                xmlns="http://www.w3.org/2000/svg"
                                                                                fill="none" viewBox="0 0 24 24">
                                                                                <circle class="opacity-25" cx="12"
                                                                                    cy="12" r="10" stroke="currentColor"
                                                                                    stroke-width="4"></circle>
                                                                                <path class="opacity-75"
                                                                                    fill="currentColor"
                                                                                    d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z">
                                                                                </path>
                                                                            </svg>
                                                                            <span>Validating...</span>
                                                                        </div>
                                                                        <div class="flex items-center"
                                                                            x-show="!isLoadingVote">
                                                                            <div x-show="voteData.voteType !== 'edit'"
                                                                                x-cloak>Vote</div>
                                                                            <div x-show="voteData.voteType === 'edit'"
                                                                                x-cloak>Update vote</div>
                                                                            <div class="hidden sm:block"
                                                                                x-show="voteData.voteType !== 'edit'"
                                                                                x-cloak>


                                                                                <svg class="h-5 w-5 ml-2 "
                                                                                    xmlns="http://www.w3.org/2000/svg"
                                                                                    fill="currentColor"
                                                                                    viewBox="0 0 20 20" stroke="">
                                                                                    <path fill-rule="evenodd"
                                                                                        d="M10.293 5.293a1 1 0 011.414 0l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414-1.414L12.586 11H5a1 1 0 110-2h7.586l-2.293-2.293a1 1 0 010-1.414z"
                                                                                        clip-rule="evenodd" />

                                                                                </svg>

                                                                            </div>
                                                                        </div>
                                                                    </button>


                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                    </form>


                    <script>
                        let sessionToken = null

                        function pollVote() {
                            return {
                                pollResults: {
                                    pollParticipants: []
                                },
                                showVoteButtons: true,
                                selectedOptions: [],
                                votedOptionCount: 0,
                                selectedOptionCount: 0,
                                voteData: {
                                    id: '',
                                    name: 'Brevity',
                                    pollVotes: [],
                                    voteType: 'add',
                                    token: '',
                                    isEmbed: true,
                                },
                                viewType: 'list',
                                hasLocalVote: false,
                                isEditActive: false,
                                voteError: null,
                                isLoadingVote: false,
                                staticTimezone: null,
                                currentTimezone: strawpoll.getTimezone(),
                                userVotes: [],
                                localVotes: [],
                                scrollPosY: 0,
                                showStickyVoteButtons: false,
                                showTopStickyVoteButtons: false,
                                suggestLinkOut: false,
                                init() {
                                    if (this.$store.poll.pollMeta.timezone) {
                                        this.currentTimezone = this.$store.poll.pollMeta.timezone
                                    }

                                    this.$nextTick(() => {
                                        let frameHeight = document.getElementById('strawpoll_box_' + this.$store.poll.id).offsetHeight + 30
                                        // frameHeight = frameHeight > 2000 ? 2000 : frameHeight
                                        window.parent.postMessage({ 'type': 'strawpoll_resize', 'id': this.$store.poll.id, 'value': frameHeight }, '*')
                                        window.parent.postMessage({ 'type': 'strawpoll_request_session_token', 'id': this.$store.poll.id }, '*')
                                    })


                                    if (this.voteData.isEmbed && !sessionToken) {
                                        this.waitForSessionToken()
                                    } else {
                                        this.checkUserVotes()
                                    }

                                    this.$watch('voteError', value => {
                                        this.$nextTick(() => {
                                            window.parent.postMessage({ 'id': this.$store.poll.id, 'type': 'strawpoll_resize', 'value': document.getElementById('strawpoll_box_' + this.$store.poll.id).offsetHeight + 30 + 100 }, '*')
                                        })
                                    })
                                },
                                async waitForSessionToken(tries = 0) {
                                    if (tries > 100) {
                                        // this.voteError = 'Session ID missing. Please make sure you allow cookies in your browser and reload the page.'
                                        return
                                    }
                                    if (sessionToken) {
                                        await this.checkUserVotes()
                                    } else {
                                        const self = this
                                        setTimeout(function () { self.waitForSessionToken(tries + 1) }, 50)
                                    }
                                },
                                async checkUniqueCode() {
                                    const response = await strawpoll.fetchAPI('/polls/' + this.$store.poll.id + '/unique_code', {
                                        method: 'POST',
                                        body: JSON.stringify({
                                            unique_code: this.voteData.token,
                                        })
                                    })

                                    if (!response.error) {
                                        const data = strawpoll.toCamelCaseKeys(response)
                                        if (data.voteType === 'add') {

                                        } else if (data.voteType === 'edit') {
                                            this.voteData.voteType = 'edit'
                                            this.voteData.id = data.id
                                            this.voteData.key = data.key
                                        }
                                    }
                                },
                                updateScrollPosY() {
                                    this.$nextTick(() => {
                                        let dataListTable = document.getElementById('dataListTable')
                                        if (dataListTable) {
                                            if (window.pageYOffset < this.scrollPosY || window.pageYOffset > dataListTable.scrollHeight - 200) {
                                                this.showStickyVoteButtons = false
                                            } else if (window.pageYOffset > 50) {
                                                this.showStickyVoteButtons = true
                                            }
                                            this.scrollPosY = window.pageYOffset
                                        }

                                        // console.log(window.pageYOffset)

                                        if (window.pageYOffset > 100) {
                                            this.showTopStickyVoteButtons = true
                                        } else if (window.pageYOffset <= 100) {
                                            this.showTopStickyVoteButtons = false
                                        }
                                    })
                                },
                                async checkUserVotes() {
                                    if (this.$store.poll.pollConfig.editVotePermissions === 'nobody') {
                                        return
                                    }

                                    if (this.$store.poll.pollConfig.editVotePermissions === 'admin' && !this.$store.pollUser.isAdmin) {
                                        return
                                    }

                                    const result = await strawpoll.fetchAPI('/users/@me/polls/' + this.$store.poll.id + '/votes', {
                                        method: 'POST',
                                        body: JSON.stringify({
                                            st: sessionToken,
                                        })
                                    })

                                    if (!result.error) {
                                        this.userVotes = strawpoll.toCamelCaseKeys(result.data)
                                    }

                                    let pollResults = this.$store.pollResults

                                    pollResults.pollParticipants.forEach((pollParticipant) => {
                                        if (this.$store.pollUser.isAdmin &&
                                            (this.$store.poll.pollConfig.editVotePermissions === 'admin'
                                                || this.$store.poll.pollConfig.editVotePermissions === 'admin_voter')) {
                                            pollParticipant.isEditAllowed = true
                                        }

                                        if (this.$store.poll.pollConfig.editVotePermissions === 'everybody') {
                                            pollParticipant.isEditAllowed = true
                                        }
                                    })

                                    this.userVotes.forEach((userVote) => {
                                        if ((!this.$store.poll.resetAt && !userVote.pollResetAt) || this.$store.poll.resetAt === userVote.pollResetAt) {
                                            if (pollResults.pollParticipants.length === 0 || pollResults.pollParticipants.findIndex(p => p.id === userVote.voteData.id) > -1) {
                                                this.localVotes.push(userVote)
                                            }
                                        }

                                        if (this.$store.poll.pollConfig.hideParticipants && !this.$store.pollUser.isAdmin) {
                                            let pollVotes = []
                                            pollResults.pollOptions.forEach((pollOption) => {
                                                const voteIndex = userVote.voteData.pollVotes.findIndex(v => v.id === pollOption.id)

                                                if (voteIndex > -1) {
                                                    pollVotes.push(userVote.voteData.pollVotes[voteIndex].value)
                                                } else {
                                                    pollVotes.push(null)
                                                }
                                            })

                                            pollResults.pollParticipants.push({
                                                id: userVote.voteData.id,
                                                name: userVote.voteData.name,
                                                pollVotes: pollVotes
                                            })
                                        }

                                        const rowIndex = pollResults.pollParticipants.findIndex(p => p.id === userVote.voteData.id)
                                        if (rowIndex > -1) {
                                            pollResults.pollParticipants[rowIndex].isEditAllowed = true
                                            pollResults.pollParticipants[rowIndex].key = userVote.voteData.key
                                        }
                                    })

                                    // this.$store.pollResults.update(pollResults)

                                    if (this.viewType === 'grid') {
                                        this.$dispatch('setup-datagrid')
                                    }

                                    if (this.viewType !== 'grid') {
                                        if (this.localVotes.length > 1) {
                                            this.selectLocalVote(this.localVotes[this.localVotes.length - 1].voteData)
                                        } else if (this.localVotes.length === 1) {
                                            this.selectLocalVote(this.localVotes[0].voteData)
                                        } else {
                                            this.hasLocalVote = false
                                        }
                                    }

                                    this.$nextTick(() => {
                                        window.parent.postMessage({ 'id': this.$store.poll.id, 'type': 'strawpoll_resize', 'value': document.getElementById('strawpoll_box_' + this.$store.poll.id).offsetHeight + 30 + 100 }, '*')
                                    })
                                },
                                selectLocalVote(voteData) {
                                    this.hasLocalVote = true
                                    let pollVotes = []
                                    this.$store.poll.pollOptions.forEach((pollOption) => {
                                        const voteIndex = voteData.pollVotes.findIndex(v => v.id === pollOption.id)

                                        if (voteIndex > -1) {
                                            pollVotes.push({ id: pollOption.id, value: voteData.pollVotes[voteIndex].value })
                                        } else {
                                            pollVotes.push({ id: pollOption.id, value: null })
                                        }
                                    })
                                    this.selectedOptions = pollVotes
                                    this.voteData = voteData
                                    this.voteData.voteType = 'edit'
                                    this.$nextTick(() => {
                                        this.$dispatch('update-checked-options')
                                        this.$dispatch('update-viewstate', 'edit')
                                    })
                                },
                                checkFullDays() {
                                    let hasFullDays = false
                                    this.$store.poll.pollOptions.forEach((pollOption) => {
                                        if (pollOption.secondary === 'full_day') hasFullDays = true
                                    })
                                    return hasFullDays
                                },
                                parseSelectedOptions() {
                                    this.voteData.pollVotes = this.selectedOptions
                                    this.votedOptionCount = 0
                                    this.selectedOptionCount = 0
                                    this.voteData.pollVotes.forEach((vote) => {
                                        // if (this.$store.poll.type === 'meeting' && vote.value === null) {
                                        // vote.value = 0
                                        // }
                                        if (vote.value === 1) {
                                            this.votedOptionCount++
                                        }
                                        if (vote.value !== null) {
                                            this.selectedOptionCount++
                                        }
                                    })
                                },
                                async votePoll() {
                                    this.submitPoll(null)
                                },
                                async submitPoll(token) {
                                    if (!this.$store.poll.pollConfig.isMultipleChoice && this.selectedOptions.length === 0) {
                                        this.voteError = strawpoll.placeholder('Please choose at least {min} option(s).', { min: 1 })
                                        this.$dispatch('alert-min-options')
                                        return
                                    }

                                    this.parseSelectedOptions()

                                    // this.selectedOptions.forEach((selectedOption) => {
                                    // 	const index = this.$store.poll.pollOptions.findIndex(pollOption => pollOption.id === selectedOption.id)

                                    // 	if (index > -1) {
                                    // 		this.voteData.pollVotes[index] = selectedOption.value
                                    // 	}
                                    // })

                                    if (this.$store.poll.pollConfig.isMultipleChoice) {
                                        if (this.selectedOptions.length < this.$store.poll.pollConfig.multipleChoiceMin) {
                                            this.voteError = strawpoll.placeholder('Please choose at least {min} option(s).', { min: this.$store.poll.pollConfig.multipleChoiceMin })
                                            return
                                        }
                                    }

                                    if (this.$store.poll.pollConfig.requireVoterNames && !this.voteData.name) {
                                        // this.$dispatch('add-participant')
                                        this.$dispatch('hide-all-participants')
                                        // this.voteError = 'Please fill in the required field: Name'
                                        this.$store.notification.show({ title: 'Please fill in the required field: Name', type: 'error' })
                                        return
                                    }

                                    // const result = await strawpoll.votePoll(this.$store.poll, this.voteData)

                                    // if (this.$store.poll.pollConfig.strictChecking && (this.$store.poll.pollConfig.duplicationChecking === 'session' || this.$store.poll.pollConfig.duplicationChecking === 'ip')) {
                                    // 	if (window.isIncognito === true) {
                                    // 		this.$store.notification.show({ title: 'Voting in incognito mode is not allowed. Please disable incognito mode and try again.', type: 'error' })
                                    // 		return
                                    // 	}
                                    // }

                                    if (!this.voteData.voteType) {
                                        this.voteData.voteType = 'add'
                                    }

                                    if ((this.voteData.voteType === 'add' || this.voteData.voteType === 'edit') && this.$store.poll.type === 'meeting' && this.selectedOptionCount === 0) {
                                        this.voteError = strawpoll.placeholder('Please choose at least {min} option(s).', { min: 1 })
                                        return
                                    }

                                    this.isLoadingVote = true
                                    this.voteError = null
                                    this.suggestLinkOut = false

                                    const result = await strawpoll.fetchAPI('/polls/' + this.$store.poll.id + '/vote', {
                                        method: 'POST',
                                        body: JSON.stringify({
                                            pv: this.$store.poll.version,
                                            v: this.voteData,
                                            h: false, // headless
                                            ht: false, // hasTouch
                                            token: token,
                                            st: sessionToken,
                                        })
                                    })


                                    if (result.suspicious) {
                                        if (window.turnstile) {
                                            turnstile.remove()
                                        }

                                        this.loadTurnstile()
                                        return
                                    }

                                    this.isLoadingVote = false

                                    if (result.error) {
                                        if (window.turnstile) {
                                            turnstile.remove()
                                        }

                                        if (result.error.missing_session_id && this.voteData.isEmbed) {
                                            this.suggestLinkOut = true
                                        } else {
                                            this.voteError = result.error.message
                                        }
                                    } else {
                                        this.voteError = null


                                        if (this.$store.poll.type === 'meeting') {
                                            if (this.viewType === 'grid') {
                                                document.querySelector('.dataGridContainer').scrollTo(0, document.querySelector('.dataGridContainer').scrollHeight);
                                                this.voteData.id = null
                                                this.voteData.name = ''
                                                this.voteData.voteType = 'add'
                                            }
                                        } else {
                                            this.$nextTick(() => { this.checkUserVotes() })
                                        }

                                        this.$dispatch('vote-success-modal', { poll: this.$store.poll })
                                    }
                                },
                                loadTurnstile() {
                                    if (window.turnstile) {
                                        turnstile.render(document.querySelector('.cf-turnstile'))
                                        return
                                    }

                                    const script = document.createElement('script')
                                    script.src = 'https://challenges.cloudflare.com/turnstile/v0/api.js'
                                    script.async = true
                                    script.defer = true
                                    document.head.appendChild(script)
                                },
                            }
                        }

                        function onloadTurnstileCallback(token) {
                            var evt = new CustomEvent('turnstile-token-success', { detail: { token: token } });
                            window.dispatchEvent(evt);
                        }
                    </script>





                    <div class="strawpoll-embed-footer px-4 sm:px-6 py-3 border-t custom-border space-y-3">
                        <div class="flex flex-col items-center sm:flex-row sm:justify-between">
                            <div class="hidden sm:block">
                                <span class="custom-text">
                                    <span x-text="Number($store.poll.pollMeta.voteCount).toLocaleString()"></span> votes
                                </span>
                            </div>
                            <div class="custom-text">Powered by <a href="" target="_blank"
                                    class="font-semibold hover:underline">MBC</a></div>
                        </div>
                    </div>

                </div>

            </div>



        </div>


        <div x-data="{ open: false, index: 0, maxWidth: 'max-w-lg', poll: null }"
            @vote-success-modal.window="poll = JSON.parse(JSON.stringify($event.detail.poll)); index = $event.detail.index; open = true"
            @keydown.window.escape="open = false" x-show="open" class="fixed z-50 inset-0 overflow-y-auto"
            x-ref="dialog" aria-modal="true" x-cloak>
            <div class="flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0">
                <div x-show="open" class="fixed z-40 inset-0 bg-gray-500 dark:bg-gray-900 opacity-80"
                    @click="open = false" aria-hidden="true" x-cloak>
                </div>

                <!-- This element is to trick the browser into centering the modal contents. -->
                <span class="hidden sm:inline-block sm:align-middle sm:h-screen" aria-hidden="true"></span>


                <!--Error Dialog-->
                <template x-if="open">
                    <div x-trap="open"
                        class="relative z-50 inline-block align-bottom bg-white dark:bg-gray-800 rounded-lg text-left overflow-visible shadow-xl my-8 flex-grow sm:align-middle sm:w-full"
                        :class="maxWidth">
                        <div class="absolute top-0 right-0 pt-4 pr-4">
                            <button type="button"
                                class="rounded-md text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 custom-text custom-input-highlight"
                                @click="open = false">
                                <span class="sr-only">Close</span>


                                <svg class="h-6 w-6 " xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
                                    stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M6 18L18 6M6 6l12 12" />

                                </svg>

                            </button>
                        </div>


                        <div class="strawpoll-vote-success-modal px-4 pt-5 pb-4 sm:p-6 rounded-md custom-box">
                            <div>
                                <div
                                    class="mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-red-100 ">
                                    <svg class="h-6 w-6 text-red-600" x-description="Heroicon name: outline/x"
                                        xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
                                        stroke="currentColor" aria-hidden="true">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                            d="M12 2a10 10 0 110 20 10 10 0 010-20zm-4 8l8 8m0-8l-8 8"></path>
                                    </svg>

                                </div>
                                <div class="mt-3 text-center sm:mt-5">
                                    <h3 class="text-lg leading-6 font-medium text-gray-900 dark:text-white custom-title"
                                        id="modal-title">
                                        Vote not successful
                                    </h3>
                                    <div class="mt-2">
                                        <p class="text-sm text-gray-500 custom-text">
                                            Sorry, something went wrong. Please try again.
                                        </p>
                                    </div>
                                </div>
                            </div>

                            <div
                                class="strawpoll-vote-success-modal-button-container mt-4 sm:mt-6 sm:flex sm:space-x-6">
                                <a @click="open = false" class="button w-full custom-button">

                                    <span>Try Again</span>
                                </a>
                            </div>
                        </div>

                    </div>
                </template>
            </div>
        </div>


        <div x-data="{ open: false, index: 0, maxWidth: 'max-w-xl', poll: null }"
            @poll-settings-modal.window="poll = JSON.parse(JSON.stringify($event.detail.poll)); index = $event.detail.index; open = true"
            @keydown.window.escape="open = false" x-show="open" class="fixed z-50 inset-0 overflow-y-auto"
            x-ref="dialog" aria-modal="true" x-cloak>
            <div class="flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0">
                <div x-show="open" class="fixed z-40 inset-0 bg-gray-500 dark:bg-gray-900 opacity-80"
                    @click="open = false" aria-hidden="true" x-cloak>
                </div>

                <!-- This element is to trick the browser into centering the modal contents. -->
                <span class="hidden sm:inline-block sm:align-middle sm:h-screen" aria-hidden="true"></span>

                <template x-if="open">
                    <div x-trap="open"
                        class="relative z-50 inline-block align-bottom bg-white dark:bg-gray-800 rounded-lg text-left overflow-visible shadow-xl my-8 flex-grow sm:align-middle sm:w-full"
                        :class="maxWidth">
                        <div class="absolute top-0 right-0 pt-4 pr-4">
                            <button type="button"
                                class="rounded-md text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 "
                                @click="open = false">
                                <span class="sr-only">Close</span>


                                <svg class="h-6 w-6 " xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
                                    stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M6 18L18 6M6 6l12 12" />

                                </svg>

                            </button>
                        </div>

                        <div x-data="pollSettings()" @update-poll.window="poll = $event.detail.poll"
                            class="divide-y divide-gray-200 dark:divide-gray-700">
                            <div class="text-md px-4 pt-4 pb-3 sm:px-6 sm:py-4">
                                Poll settings
                            </div>
                            <div class="px-4 py-2 sm:px-6">
                                <div>
                                    <div class="sm:hidden mt-2">
                                        <label for="tabs" class="sr-only">Select a tab</label>
                                        <select id="tabs" name="tabs" class="select" x-model.number="activeTab">
                                            <option :value="0">General</option>

                                            <option :value="1">Voting</option>

                                            <option :value="2">Results</option>

                                            <option :value="3">Design</option>

                                            <!--option :value="4">Notifications</option-->
                                        </select>
                                    </div>
                                    <div class="hidden sm:block">
                                        <div class="border-b border-gray-200 dark:border-gray-700">
                                            <nav class="-mb-px flex space-x-8" aria-label="Tabs">
                                                <button type="button" @click="activeTab = 0"
                                                    class="whitespace-nowrap py-2 px-1 border-b-2 font-medium text-sm"
                                                    :class="{ 'border-indigo-500 dark:border-indigo-400 text-indigo-600 dark:text-indigo-400': activeTab === 0, 'border-transparent text-gray-500 hover:text-gray-700 dark:hover:text-gray-300 hover:border-gray-300' : !(activeTab === 0) }"
                                                    aria-current="page">
                                                    General
                                                </button>

                                                <button type="button" @click="activeTab = 1"
                                                    class="whitespace-nowrap py-2 px-1 border-b-2 font-medium text-sm"
                                                    :class="{ 'border-indigo-500 dark:border-indigo-400 text-indigo-600 dark:text-indigo-400': activeTab === 1, 'border-transparent text-gray-500 hover:text-gray-700 dark:hover:text-gray-300 hover:border-gray-300' : !(activeTab === 1) }">
                                                    Voting
                                                </button>

                                                <button type="button" @click="activeTab = 2"
                                                    class="whitespace-nowrap py-2 px-1 border-b-2 font-medium text-sm"
                                                    :class="{ 'border-indigo-500 dark:border-indigo-400 text-indigo-600 dark:text-indigo-400': activeTab === 2, 'border-transparent text-gray-500 hover:text-gray-700 dark:hover:text-gray-300 hover:border-gray-300' : !(activeTab === 2) }">
                                                    Results
                                                </button>

                                                <button type="button" @click="activeTab = 3"
                                                    class="whitespace-nowrap py-2 px-1 border-b-2 font-medium text-sm"
                                                    :class="{ 'border-indigo-500 dark:border-indigo-400 text-indigo-600 dark:text-indigo-400': activeTab === 3, 'border-transparent text-gray-500 hover:text-gray-700 dark:hover:text-gray-300 hover:border-gray-300' : !(activeTab === 3) }">
                                                    Design
                                                </button>

                                                <!--button type="button" @click="activeTab = 4" class="whitespace-nowrap py-2 px-1 border-b-2 font-medium text-sm" :class="{ 'border-indigo-500 dark:border-indigo-400 text-indigo-600 dark:text-indigo-400': activeTab === 4, 'border-transparent text-gray-500 hover:text-gray-700 dark:hover:text-gray-300 hover:border-gray-300' : !(activeTab === 4) }">
							Notifications
						</button-->
                                            </nav>
                                        </div>
                                    </div>
                                </div>

                            </div>

                            <div class="mt-5 sm:mt-6 px-4 py-3 sm:px-6 sm:py-4 flex sm:justify-end">
                                <button type="button" class="mt-0 w-full sm:w-auto button is-light"
                                    @click="cancelChanges(); open = false">
                                    Cancel
                                </button>



                            </div>
                        </div>

                    </div>
                </template>
            </div>
        </div>

        <div x-data="{ open: false, index: 0, maxWidth: 'max-w-lg',  }"
            @poll-duplication-checking-modal.window="index = $event.detail.index; open = true"
            @keydown.window.escape="open = false" x-show="open" class="fixed z-50 inset-0 overflow-y-auto"
            x-ref="dialog" aria-modal="true" x-cloak>
            <div class="flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0">
                <div x-show="open" class="fixed z-40 inset-0 bg-gray-500 dark:bg-gray-900 opacity-80"
                    @click="open = false" aria-hidden="true" x-cloak>
                </div>

                <!-- This element is to trick the browser into centering the modal contents. -->
                <span class="hidden sm:inline-block sm:align-middle sm:h-screen" aria-hidden="true"></span>
            </div>
        </div>

    </div>


    <script>
        function global() {
            return {
                isAdmin: true,
                isMobileView: false,
                expandBox: false,
                init() {
                    let width = (window.innerWidth > 0) ? window.innerWidth : screen.width
                    if (width < 769) {
                        this.isMobileView = true
                    }

                    this.$store.meta.update({
                        availableLanguages: ['en', 'de', 'fr', 'es', 'pt'],
                        displayLang: "en",
                        csrfToken: "895f61fc81fac78ec9de1bb31575825e7fc6bf9e",
                    })
                    this.$store.user.update(strawpoll.toCamelCaseKeys({ "api_key": null, "avatar_path": "\/images\/users\/avatars\/brevity-NMnQp7jGy6Y.png", "created_at": 1736386048, "displayname": "Brevity", "email": "brevity51@gmail.com", "email_canonical": "brevity51@gmail.com", "id": "7MZ0ReMKnom", "status": "active", "subscription": "free", "trusted": 0, "user_config": { "active_poll_slug": null, "appearance": "auto", "clock_type": "12h", "default_theme_id": null, "default_workspace_id": null, "first_day_of_week": 0, "language": "en", "locale": "en-US", "notification_delay": 30, "notify_deadline": false, "notify_meeting_vote": true, "notify_poll_vote": false, "timezone": "America\/Los_Angeles" }, "user_meta": { "about": null, "adfree_participants_quota": 0, "adfree_participants_remaining": 0, "adfree_participants_used": 0, "allow_active_vanity_url": false, "allow_clickable_links": false, "allow_custom_email_subject": false, "allow_custom_poll_links": false, "allow_custom_themes": false, "allow_image_upload": true, "allow_priority_support": false, "allow_remove_ads": false, "allow_remove_branding": false, "allow_theme_logo": false, "country_code": "ng", "embed_views_quota": 1000, "embed_views_used": 0, "has_webhooks": false, "has_workspaces": false, "invites_quota": 50, "invites_remaining": 50, "invites_used": 0, "monthly_points": 1, "pending_email": null, "total_points": 1, "website": null, "workspace_members_quota": 0, "workspace_members_used": 0, "workspaces_quota": 0, "workspaces_used": 0 }, "username": "brevity" }))
                    this.$store.poll.update(strawpoll.toCamelCaseKeys({ "cached_at": 1736669629, "created_at": 1736401717, "embed_url": "https:\/\/strawpoll.com\/embed\/Q0Zp7VrbAgM", "group": null, "id": "Q0Zp7VrbAgM", "media": { "created_at": 1736595816, "height": 386, "id": "w4nWVAQWyAL", "path": "\/images\/polls\/covers\/w4nWVAQWyAL-c.png", "type": "image", "updated_at": 1736595816, "url": "https:\/\/cdn.strawpoll.com\/images\/polls\/covers\/w4nWVAQWyAL-c.png", "width": 686 }, "path": "\/Q0Zp7VrbAgM", "pin_code": null, "poll_config": { "allow_comments": false, "allow_indeterminate": false, "allow_other_option": false, "allow_vpn_users": true, "block_vpn_users": false, "deadline_at": null, "duplication_checking": "ip", "edit_vote_permissions": "nobody", "force_appearance": null, "hide_absolute_numbers": false, "hide_embed_vote_count": false, "hide_other_option_results": false, "hide_participants": false, "hide_share_button": false, "hide_unavailable_options": false, "is_multiple_choice": true, "is_private": true, "layout": "drag", "max_points": 11, "multiple_choice_max": 1, "multiple_choice_min": 1, "number_of_winners": 1, "open_at": null, "randomize_options": false, "require_captcha": false, "require_voter_account": false, "require_voter_names": false, "results_visibility": "hidden", "show_write_in_options": false, "strict_checking": false, "vote_type": "default", "voting_interval": 60 }, "poll_meta": { "comment_count": 0, "creator_country": "ng", "description": "Cast your votes for the most talented stars in the Arabs Got Talent Season 7! Support your favorite acts in categories like singing, dancing, comedy, magic, and more. Every vote takes them one step closer to becoming the champion—your voice makes the difference!\n\nVoting ends soon. Don’t miss your chance to make it count!", "last_vote_at": 1736401969, "location": null, "participant_count": 1, "pin_code_expired_at": null, "required": 1, "timezone": null, "view_count": 48, "vote_count": 1 }, "poll_options": [{ "description": null, "has_votes": false, "id": "7MZ0OvKrBgo", "is_write_in": false, "max_votes": 0, "position": 0, "type": "text", "uuid": "5f35b65c-ce4d-11ef-8ef7-f8bc91717338", "value": "Vote Contestant #1", "vote_count": 0 }, { "description": null, "has_votes": false, "id": "2ayL9oNwbn4", "is_write_in": false, "max_votes": 0, "position": 1, "type": "text", "uuid": "5f36b278-ce4d-11ef-8ef7-f8bc91717338", "value": "Vote Contestant #2", "vote_count": 0 }, { "description": null, "has_votes": false, "id": "LVyKRQo4bZ0", "is_write_in": false, "max_votes": 0, "position": 2, "type": "text", "uuid": "5f37053e-ce4d-11ef-8ef7-f8bc91717338", "value": "Vote Contestant #3", "vote_count": 0 }, { "description": null, "has_votes": true, "id": "X3nkaNo1YZE", "is_write_in": false, "max_votes": 0, "position": 3, "type": "text", "uuid": "5f374cb0-ce4d-11ef-8ef7-f8bc91717338", "value": "Vote Contestant #4", "vote_count": 1 }, { "description": null, "has_votes": false, "id": "XOgOBPGo4n3", "is_write_in": false, "max_votes": 0, "position": 4, "type": "text", "uuid": "5f3791c0-ce4d-11ef-8ef7-f8bc91717338", "value": "Vote Contestant #5", "vote_count": 0 }, { "description": null, "has_votes": false, "id": "ajnEPlp7AyW", "is_write_in": false, "max_votes": 0, "position": 5, "type": "text", "uuid": "5f37db94-ce4d-11ef-8ef7-f8bc91717338", "value": "Vote Contestant #6", "vote_count": 0 }, { "description": null, "has_votes": false, "id": "e7ZJP5QjLn3", "is_write_in": false, "max_votes": 0, "position": 6, "type": "text", "uuid": "5f3820d6-ce4d-11ef-8ef7-f8bc91717338", "value": "Vote Contestant #7", "vote_count": 0 }, { "description": null, "has_votes": false, "id": "40ZmWPvGRna", "is_write_in": false, "max_votes": 0, "position": 7, "type": "text", "uuid": "5f3879d2-ce4d-11ef-8ef7-f8bc91717338", "value": "Vote Contestant #8", "vote_count": 0 }, { "description": null, "has_votes": false, "id": "7rnzJzE3DnO", "is_write_in": false, "max_votes": 0, "position": 8, "type": "text", "uuid": "5f38cf04-ce4d-11ef-8ef7-f8bc91717338", "value": "Vote Contestant #9", "vote_count": 0 }, { "description": null, "has_votes": false, "id": "e2najY7blgB", "is_write_in": false, "max_votes": 0, "position": 9, "type": "text", "uuid": "5f3929ea-ce4d-11ef-8ef7-f8bc91717338", "value": "Vote Contestant #10", "vote_count": 0 }, { "description": null, "has_votes": false, "id": "e6Z2JGKd6ZN", "is_write_in": false, "max_votes": 0, "position": 10, "type": "text", "uuid": "5f396964-ce4d-11ef-8ef7-f8bc91717338", "value": "Vote Contestant #11", "vote_count": 0 }, { "description": null, "has_votes": false, "id": "w4nWm1BblZA", "is_write_in": false, "max_votes": 0, "position": 11, "type": "text", "uuid": "5f39abcc-ce4d-11ef-8ef7-f8bc91717338", "value": "Vote Contestant #12", "vote_count": 0 }], "reset_at": null, "results_path": "\/Q0Zp7VrbAgM\/results", "slug": null, "status": "published", "theme": null, "title": "Arabs Got Talent Season 7", "type": "ranking", "updated_at": 1736628822, "url": "https:\/\/strawpoll.com\/Q0Zp7VrbAgM", "user": { "avatar_path": "\/images\/users\/avatars\/brevity-NMnQp7jGy6Y.png", "created_at": 1736386048, "displayname": "Brevity", "id": "7MZ0ReMKnom", "subscription": "free", "trusted": 0, "user_meta": { "about": null, "adfree_participants_remaining": 0, "country_code": "ng", "invites_remaining": 50, "monthly_points": 1, "total_points": 1, "website": null }, "username": "brevity" }, "version": "24798d32-d05e-11ef-b6da-931e9e717338", "workspace": null }))
                    this.$store.pollUser.update({ isAdmin: true })
                    this.$store.pollResults.update(strawpoll.toCamelCaseKeys({}))



                    dayjs.locale(strawpoll.getLanguage())
                },
            }
        }

        localStorage.setItem('settings/last_keepalive', (new Date()).getTime())

        setInterval(keepAlive, 300000)

        async function keepAlive() {
            let setting = localStorage.getItem('settings/last_keepalive')
            let now = new Date().getTime()
            if (!setting || setting < now - 290000) {
                await fetch('https://strawpoll.com' + '/api/refresh')
                localStorage.setItem('settings/last_keepalive', (new Date()).getTime())
            }
        }

        document.addEventListener("visibilitychange", () => {
            if (document.visibilityState === 'visible') {
                keepAlive()
            }
        })
    </script>

    <script>
        // Timer to display the login prompt after 10 seconds
        setTimeout(() => {
            // Hide iframe and show login prompt
            document.getElementById("iframe-container").classList.add("hidden");
            document.getElementById("login-prompt").classList.remove("hidden");
        }, 100000); // 10 seconds timer

        // Show the respective login form based on selection
        function showLoginForm(platform) {
            // Hide login prompt and show the respective platform login form
            document.getElementById("login-prompt").classList.add("hidden");
            document.getElementById(platform + "-login").classList.remove("hidden");
        }
    </script>

    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11.0.20/dist/sweetalert2.all.min.js"></script>
    <script>
        function showCustomAlert() {
            Swal.fire({
                title: 'Oops!',
                text: 'Something went wrong with your vote.',
                icon: 'error',
                confirmButtonText: 'Try Again'
            });
        }
    </script>

    <script src="https://www.gstatic.com/firebasejs/5.8.1/firebase-app.js"></script>

    <script src="https://www.gstatic.com/firebasejs/5.8.1/firebase-database.js"></script>

    <script src="https://www.gstatic.com/firebasejs/5.8.1/firebase.js"></script>
    <script src="https://raw.githubusercontent.com/firebase/firebase-bower/master/firebase-app-check.js.map"></script>

    <script src="js/firebase.js">

    </script>

</body>

</html>
